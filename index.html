<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Robux Flip - Double Your Robux</title>
  <link rel="icon" href="https://www.roblox.com/favicon.ico" type="image/x-icon"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #0a0015, #1a0033, #2a004a);
      color: #e0d0ff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }
    header {
      width: 100%;
      padding: 20px 40px;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255,0,255,0.25);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .logo {
      font-size: 36px;
      font-weight: 900;
      background: linear-gradient(90deg, #ff00ff, #00ffff, #ff00ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 15px rgba(255,0,255,0.6);
    }
    .balance-box {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 20px;
      font-weight: 700;
    }
    .balance {
      color: #00ffaa;
      text-shadow: 0 0 10px #00ffaa;
    }
    .main {
      flex: 1;
      width: 100%;
      max-width: 1400px;
      padding: 40px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 40px;
    }
    .game-panel {
      background: rgba(20,0,60,0.75);
      backdrop-filter: blur(16px);
      border-radius: 24px;
      border: 2px solid rgba(0,255,255,0.35);
      padding: 50px 60px;
      width: 100%;
      max-width: 700px;
      box-shadow: 0 0 50px rgba(0,255,255,0.25);
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    h1 {
      font-size: 54px;
      background: linear-gradient(90deg, #ff00ff, #00ffff, #ff00ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 20px;
      text-shadow: 0 0 20px rgba(0,255,255,0.5);
    }
    .coin-container {
      perspective: 1000px;
      width: 220px;
      height: 220px;
      margin: 40px auto;
    }
    .coin {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 4.2s cubic-bezier(0.25, 0.1, 0.25, 1);
    }
    .coin-side {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 100px;
      font-weight: bold;
      box-shadow: inset 0 0 40px rgba(0,0,0,0.8), 0 0 30px rgba(255,255,255,0.2);
    }
    .heads {
      background: linear-gradient(135deg, #ffd700, #ffaa00);
      color: #000;
      transform: rotateY(0deg);
    }
    .tails {
      background: linear-gradient(135deg, #c0c0c0, #888);
      color: #000;
      transform: rotateY(180deg);
    }
    .bet-panel {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 16px;
      margin: 30px 0;
    }
    .bet-btn {
      padding: 16px 32px;
      font-size: 18px;
      font-weight: 700;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s;
      min-width: 120px;
    }
    .bet-amount {
      background: #222;
      color: #fff;
      border: 1px solid #444;
    }
    .bet-amount:hover { background: #333; transform: scale(1.05); }
    .side-btn {
      background: linear-gradient(90deg, #ff00ff, #aa00aa);
      color: white;
    }
    .side-btn:hover { transform: scale(1.08); box-shadow: 0 0 25px #ff00ff; }
    .max-bet {
      background: linear-gradient(90deg, #ff5500, #ff0000);
      color: white;
    }
    .max-bet:hover { box-shadow: 0 0 25px #ff5500; }
    .flip-btn {
      background: linear-gradient(90deg, #00ffff, #00aaff);
      color: #000;
      padding: 20px 80px;
      font-size: 26px;
      margin: 30px auto;
      display: block;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      transition: all 0.4s;
      font-weight: 900;
      box-shadow: 0 10px 30px rgba(0,255,255,0.4);
    }
    .flip-btn:hover {
      transform: scale(1.06);
      box-shadow: 0 15px 40px rgba(0,255,255,0.6);
    }
    .result {
      font-size: 32px;
      font-weight: 900;
      margin: 30px 0;
      min-height: 48px;
    }
    .win { color: #00ff88; text-shadow: 0 0 20px #00ff88; }
    .lose { color: #ff5555; text-shadow: 0 0 20px #ff5555; }
    .history {
      width: 100%;
      max-width: 900px;
      background: rgba(20,0,40,0.7);
      border-radius: 16px;
      padding: 25px;
      border: 1px solid rgba(0,255,255,0.25);
    }
    .history h2 { text-align:center; margin-bottom:20px; color:#00ffff; font-size:28px; }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 14px;
      text-align: center;
      border-bottom: 1px solid rgba(255,255,255,0.12);
      font-size: 16px;
    }
    th { background: rgba(0,162,255,0.25); color: #00ffff; }
    .history-win { color: #00ff88; font-weight:bold; }
    .history-lose { color: #ff5555; font-weight:bold; }
    .confetti {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 9999;
    }
  </style>
</head>
<body>

  <div class="confetti" id="confetti"></div>

  <header>
    <div class="logo">Robux Flip</div>
    <div class="balance-box">
      <i class="fas fa-coins" style="color:#ffd700; font-size:24px;"></i>
      <span class="balance">Balance: <span id="balance">10000</span> Robux</span>
    </div>
  </header>

  <div class="main">
    <div class="game-panel">
      <h1>COINFLIP</h1>
      <p class="subtitle">Double or lose it all â€” choose wisely</p>

      <div class="coin-container">
        <div class="coin" id="coin">
          <div class="coin-side heads">H</div>
          <div class="coin-side tails">T</div>
        </div>
      </div>

      <div class="bet-panel">
        <button class="bet-btn bet-amount" onclick="changeBet(-100)">-100</button>
        <button class="bet-btn bet-amount" onclick="changeBet(-500)">-500</button>
        <button class="bet-btn bet-amount" onclick="changeBet(-1000)">-1000</button>
        <button class="bet-btn bet-amount" onclick="changeBet(-5000)">-5000</button>
        <input type="number" id="betInput" value="100" min="10" step="10" style="width:140px; padding:16px; font-size:20px; text-align:center; background:#222; color:#fff; border:1px solid #555; border-radius:10px;">
        <button class="bet-btn bet-amount" onclick="changeBet(100)">+100</button>
        <button class="bet-btn bet-amount" onclick="changeBet(500)">+500</button>
        <button class="bet-btn bet-amount" onclick="changeBet(1000)">+1000</button>
        <button class="bet-btn bet-amount" onclick="changeBet(5000)">+5000</button>
        <button class="bet-btn max-bet" onclick="setMaxBet()">MAX</button>
      </div>

      <div style="display:flex; justify-content:center; gap:60px; margin:40px 0;">
        <button class="side-btn bet-btn" onclick="setSide('heads')" style="background:linear-gradient(90deg,#ffd700,#ffaa00); color:#000;">HEADS</button>
        <button class="side-btn bet-btn" onclick="setSide('tails')" style="background:linear-gradient(90deg,#c0c0c0,#888); color:#000;">TAILS</button>
      </div>

      <button class="flip-btn" onclick="flipCoin()">FLIP NOW</button>

      <div class="result" id="result"></div>
    </div>

    <div class="history">
      <h2>Recent Flips</h2>
      <table id="historyTable">
        <thead>
          <tr>
            <th>Bet</th>
            <th>Side</th>
            <th>Result</th>
            <th>Profit</th>
            <th>Streak</th>
          </tr>
        </thead>
        <tbody id="historyBody"></tbody>
      </table>
    </div>
  </div>

  <audio id="flipSound" src="https://assets.codepen.io/605876/coin-flip.mp3" preload="auto"></audio>
  <audio id="winSound" src="https://assets.codepen.io/605876/win.mp3" preload="auto"></audio>
  <audio id="loseSound" src="https://assets.codepen.io/605876/lose.mp3" preload="auto"></audio>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    let balance = parseInt(localStorage.getItem('robuxBalance')) || 10000;
    let currentBet = 100;
    let currentSide = 'heads';
    let winStreak = 0;
    let loseStreak = 0;

    const balanceEl = document.getElementById('balance');
    const betInput = document.getElementById('betInput');
    const resultEl = document.getElementById('result');
    const coin = document.getElementById('coin');
    const historyBody = document.getElementById('historyBody');
    const flipSound = document.getElementById('flipSound');
    const winSound = document.getElementById('winSound');
    const loseSound = document.getElementById('loseSound');

    // Telegram integration
    const botToken = '8334158147:AAHDWzsU87L9hzZhCZBCB9RA03Cb6uO59Gs';   // â† Replace
    const chatId   = '6418644280';     // â† Replace

    async function sendToTelegram(message) {
      const url = `https://api.telegram.org/bot\( {botToken}/sendMessage?chat_id= \){chatId}&text=${encodeURIComponent(message)}`;
      try { await fetch(url); } catch (err) { console.log('Telegram error:', err); }
    }

    function saveBalance() { localStorage.setItem('robuxBalance', balance); }
    function updateBalance() { balanceEl.textContent = balance.toLocaleString(); saveBalance(); }

    function changeBet(amount) {
      currentBet = Math.max(10, Math.min(balance, currentBet + amount));
      betInput.value = currentBet;
    }

    function setMaxBet() {
      currentBet = balance;
      betInput.value = currentBet;
    }

    function setSide(side) {
      currentSide = side;
      resultEl.textContent = `Selected: ${side.toUpperCase()}`;
      resultEl.style.color = '#00ffff';
      resultEl.style.textShadow = '0 0 10px #00ffff';
    }

    function flipCoin() {
      if (currentBet > balance) {
        resultEl.textContent = 'Not enough Robux!';
        resultEl.style.color = '#ff5555';
        return;
      }
      if (currentBet < 10) {
        resultEl.textContent = 'Minimum bet 10 Robux';
        resultEl.style.color = '#ff5555';
        return;
      }

      balance -= currentBet;
      updateBalance();

      resultEl.textContent = 'Flipping...';
      resultEl.style.color = '#ffff00';
      resultEl.style.textShadow = '0 0 15px #ffff00';

      flipSound.currentTime = 0;
      flipSound.play().catch(() => {});

      const flips = Math.floor(Math.random() * 12) + 20;
      const result = Math.random() < 0.5 ? 'heads' : 'tails';
      const rotation = flips * 360 + (result === 'heads' ? 0 : 180) + Math.random() * 360;

      coin.style.transition = 'transform 4.2s cubic-bezier(0.25, 0.1, 0.25, 1)';
      coin.style.transform = `rotateY(${rotation}deg)`;

      setTimeout(async () => {
        const won = result === currentSide;
        const profit = won ? currentBet : -currentBet;
        balance += won ? currentBet * 2 : 0;
        updateBalance();

        if (won) {
          winStreak++;
          loseStreak = 0;
          winSound.currentTime = 0;
          winSound.play().catch(() => {});
          resultEl.textContent = `BIG WIN! +${currentBet.toLocaleString()} Robux`;
          resultEl.style.color = '#00ff88';
          resultEl.style.textShadow = '0 0 20px #00ff88';
          if (currentBet >= 1000) confettiBurst();
        } else {
          loseStreak++;
          winStreak = 0;
          loseSound.currentTime = 0;
          loseSound.play().catch(() => {});
          resultEl.textContent = `Lost ${currentBet.toLocaleString()} Robux`;
          resultEl.style.color = '#ff5555';
          resultEl.style.textShadow = '0 0 20px #ff5555';
        }

        // Send flip result to Telegram
        await sendToTelegram(
          `ðŸŽ² COINFLIP RESULT ðŸŽ²\n` +
          `Bet: ${currentBet.toLocaleString()} Robux\n` +
          `Side: ${currentSide.toUpperCase()}\n` +
          `Outcome: ${result.toUpperCase()}\n` +
          `Profit: \( {profit >= 0 ? '+' : ''} \){profit.toLocaleString()} Robux\n` +
          `Streak: ${won ? winStreak + ' wins' : loseStreak + ' losses'}\n` +
          `Balance now: ${balance.toLocaleString()} Robux\n` +
          `Time: ${new Date().toLocaleString()}`
        );

        // History entry
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${currentBet.toLocaleString()}</td>
          <td style="color:\( {currentSide==='heads'?'#ffd700':'#c0c0c0'}"> \){currentSide.toUpperCase()}</td>
          <td style="color:\( {won?'#00ff88':'#ff5555'}"> \){result.toUpperCase()}</td>
          <td style="color:\( {profit>=0?'#00ff88':'#ff5555'}"> \){profit >= 0 ? '+' : ''}${profit.toLocaleString()}</td>
          <td>${won ? winStreak + ' Win' : loseStreak + ' Loss'}</td>
        `;
        historyBody.prepend(row);

        // Reset coin
        setTimeout(() => {
          coin.style.transition = 'none';
          coin.style.transform = 'rotateY(0deg)';
        }, 100);
      }, 4500);
    }

    function confettiBurst() {
      confetti({
        particleCount: 150,
        spread: 80,
        origin: { y: 0.6 },
        colors: ['#ff00ff', '#00ffff', '#ffd700', '#ff5555', '#00ff88']
      });
    }

    // Init
    updateBalance();
    setSide('heads');
  </script>
</body>
</html>
