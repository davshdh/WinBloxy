<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Robux Casino - Ultimate Gambling Hub</title>
  <link rel="icon" href="https://www.roblox.com/favicon.ico" type="image/x-icon"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <script src="https://js.stripe.com/v3/"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    :root {
      --primary: #ff00ff;
      --secondary: #00ffff;
      --accent: #ffd700;
      --win: #00ff88;
      --lose: #ff5555;
      --bg: linear-gradient(135deg, #0a0015, #1a0033, #2a004a);
      --dark-bg: rgba(20,0,60,0.85);
      --text: #e0d0ff;
    }
    [data-theme="light"] {
      --bg: linear-gradient(135deg, #f0f0ff, #d0d0ff, #b0b0ff);
      --dark-bg: rgba(255,255,255,0.85);
      --text: #1a0033;
      --primary: #aa00aa;
      --secondary: #00aaff;
      --accent: #ffaa00;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Roboto', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }
    header {
      width: 100%;
      padding: 20px 40px;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(var(--primary),0.25);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .logo {
      font-size: 36px;
      font-weight: 900;
      background: linear-gradient(90deg, var(--primary), var(--secondary), var(--primary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 15px rgba(var(--primary),0.6);
    }
    .balance-box {
      display: flex;
      align-items: center;
      gap: 24px;
      font-size: 20px;
      font-weight: 700;
    }
    .balance { color: var(--win); text-shadow: 0 0 10px var(--win); }
    .real-balance { color: var(--accent); text-shadow: 0 0 10px var(--accent); }
    .deposit-btn, .theme-toggle {
      padding: 12px 24px;
      background: linear-gradient(90deg, var(--win), #00aa55);
      color: #000;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .deposit-btn:hover, .theme-toggle:hover { transform: scale(1.05); box-shadow: 0 0 20px var(--win); }
    .theme-toggle { background: linear-gradient(90deg, #333, #555); color: #fff; }
    .main {
      flex: 1;
      width: 100%;
      max-width: 1400px;
      padding: 40px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 40px;
    }
    .games-nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin: 20px 0;
    }
    .game-tab {
      padding: 14px 28px;
      background: var(--dark-bg);
      border: 1px solid rgba(var(--secondary),0.3);
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 700;
    }
    .game-tab.active { background: linear-gradient(90deg, var(--primary), var(--secondary)); color: #000; box-shadow: 0 0 25px var(--primary); }
    .game-tab:hover { transform: scale(1.05); }
    .game-content { display: none; width: 100%; }
    .game-content.active { display: block; }
    .slots-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      width: 100%;
    }
    .slot-machine {
      background: var(--dark-bg);
      backdrop-filter: blur(16px);
      border-radius: 24px;
      border: 2px solid rgba(var(--secondary),0.35);
      padding: 30px;
      box-shadow: 0 0 50px rgba(var(--secondary),0.25);
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .slot-title {
      font-size: 28px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 20px;
    }
    .reels {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    .reel {
      width: 80px;
      height: 240px;
      background: #111;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
      display: flex;
      flex-direction: column;
      animation: spin 2s ease-out forwards;
    }
    @keyframes spin { 0% { transform: translateY(0); } 100% { transform: translateY(calc(-100% + 80px)); } }
    .symbol {
      width: 80px;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 50px;
      color: #fff;
      text-shadow: 0 0 15px #fff;
    }
    .spin-btn {
      background: linear-gradient(90deg, var(--secondary), #00aaff);
      color: #000;
      padding: 14px 40px;
      font-size: 20px;
      font-weight: 900;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 5px 20px rgba(var(--secondary),0.3);
    }
    .spin-btn:hover { transform: scale(1.05); box-shadow: 0 10px 30px rgba(var(--secondary),0.5); }
    .slot-result {
      margin-top: 20px;
      font-size: 24px;
      font-weight: 900;
      min-height: 36px;
    }
    .chat-box {
      width: 100%;
      max-width: 400px;
      background: var(--dark-bg);
      border-radius: 16px;
      padding: 20px;
      border: 1px solid rgba(var(--secondary),0.25);
      margin-top: 40px;
    }
    .chat-box h2 { text-align:center; color:var(--secondary); margin-bottom:20px; }
    .chat-messages {
      height: 300px;
      overflow-y: auto;
      margin-bottom: 20px;
      padding: 10px;
      background: #111;
      border-radius: 10px;
    }
    .chat-message {
      margin-bottom: 10px;
      padding: 8px 12px;
      background: rgba(255,255,255,0.1);
      border-radius: 8px;
    }
    .chat-input {
      width: 100%;
      padding: 12px;
      background: #222;
      color: #fff;
      border: 1px solid #444;
      border-radius: 10px;
    }
    .leaderboard {
      width: 100%;
      max-width: 600px;
      background: var(--dark-bg);
      border-radius: 16px;
      padding: 25px;
      border: 1px solid rgba(var(--secondary),0.25);
      margin-top: 40px;
    }
    .leaderboard h2 { text-align:center; color:var(--accent); margin-bottom:20px; }
    .leaderboard-list { list-style:none; }
    .leaderboard-item { padding:12px; border-bottom:1px solid rgba(255,255,255,0.12); display:flex; justify-content:space-between; }
  </style>
</head>
<body>

  <div class="confetti" id="confetti"></div>

  <header>
    <div class="logo">Robux Casino</div>
    <div class="balance-box">
      <i class="fas fa-coins" style="color:#ffd700; font-size:24px;"></i>
      <span class="balance">Robux: <span id="robuxBalance">10000</span></span>
      <span class="real-balance">$: <span id="usdBalance">0.00</span></span>
      <button class="deposit-btn" onclick="depositRealMoney()">Deposit $</button>
      <button class="theme-toggle" onclick="toggleTheme()"><i class="fas fa-moon"></i></button>
    </div>
  </header>

  <div class="main">
    <h1 style="font-size:64px; margin:40px 0; background:linear-gradient(90deg,var(--primary),var(--secondary)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; text-shadow:0 0 30px rgba(var(--primary),0.6);">ULTIMATE ROBUX CASINO</h1>

    <div class="games-nav">
      <button class="game-tab active" onclick="showGame('slots')">Slots (100+)</button>
      <button class="game-tab" onclick="showGame('coinflip')">Coinflip</button>
      <button class="game-tab" onclick="showGame('roulette')">Roulette</button>
      <button class="game-tab" onclick="showGame('crash')">Crash</button>
      <button class="game-tab" onclick="showGame('jackpot')">Jackpot</button>
    </div>

    <div class="game-content active" id="slots">
      <div class="slots-grid" id="slotsGrid"></div>
    </div>

    <div class="game-content" id="coinflip">
      <div class="game-panel">
        <h1>COINFLIP</h1>
        <p class="subtitle">Double or lose it all â€” choose wisely</p>

        <div class="coin-container">
          <div class="coin" id="coin">
            <div class="coin-side heads">H</div>
            <div class="coin-side tails">T</div>
          </div>
        </div>

        <div class="bet-panel">
          <button class="bet-btn bet-amount" onclick="changeBet(-100)">-100</button>
          <button class="bet-btn bet-amount" onclick="changeBet(-500)">-500</button>
          <button class="bet-btn bet-amount" onclick="changeBet(-1000)">-1000</button>
          <button class="bet-btn bet-amount" onclick="changeBet(-5000)">-5000</button>
          <input type="number" id="betInput" value="100" min="10" step="10" style="width:140px; padding:16px; font-size:20px; text-align:center; background:#222; color:#fff; border:1px solid #555; border-radius:10px;">
          <button class="bet-btn bet-amount" onclick="changeBet(100)">+100</button>
          <button class="bet-btn bet-amount" onclick="changeBet(500)">+500</button>
          <button class="bet-btn bet-amount" onclick="changeBet(1000)">+1000</button>
          <button class="bet-btn bet-amount" onclick="changeBet(5000)">+5000</button>
          <button class="bet-btn max-bet" onclick="setMaxBet()">MAX</button>
        </div>

        <div style="display:flex; justify-content:center; gap:60px; margin:40px 0;">
          <button class="side-btn bet-btn" onclick="setSide('heads')" style="background:linear-gradient(90deg,#ffd700,#ffaa00); color:#000;">HEADS</button>
          <button class="side-btn bet-btn" onclick="setSide('tails')" style="background:linear-gradient(90deg,#c0c0c0,#888); color:#000;">TAILS</button>
        </div>

        <button class="flip-btn" onclick="flipCoin()">FLIP NOW</button>

        <div class="result" id="result"></div>
      </div>
    </div>

    <div class="game-content" id="roulette">
      <div class="game-panel">
        <h1>ROULETTE</h1>
        <p class="subtitle">Bet on red, black, or numbers</p>
        <div style="text-align:center; margin:40px 0; font-size:24px;">Coming Soon!</div>
      </div>
    </div>

    <div class="game-content" id="crash">
      <div class="game-panel">
        <h1>CRASH</h1>
        <p class="subtitle">Cash out before crash</p>
        <div style="text-align:center; margin:40px 0; font-size:24px;">Coming Soon!</div>
      </div>
    </div>

    <div class="game-content" id="jackpot">
      <div class="game-panel">
        <h1>JACKPOT</h1>
        <p class="subtitle">Pool bets for big wins</p>
        <div style="text-align:center; margin:40px 0; font-size:24px;">Coming Soon!</div>
      </div>
    </div>

    <div class="chat-box">
      <h2>Live Chat</h2>
      <div class="chat-messages" id="chatMessages"></div>
      <input type="text" class="chat-input" id="chatInput" placeholder="Type a message..." onkeydown="sendChat(event)">
    </div>

    <div class="leaderboard">
      <h2>Leaderboards</h2>
      <ul class="leaderboard-list" id="leaderboardList"></ul>
    </div>
  </div>

  <audio id="spinSound" src="https://assets.codepen.io/605876/slot-spin.mp3" preload="auto"></audio>
  <audio id="winSound" src="https://assets.codepen.io/605876/win.mp3" preload="auto"></audio>
  <audio id="loseSound" src="https://assets.codepen.io/605876/lose.mp3" preload="auto"></audio>

  <script>
    let robuxBalance = parseInt(localStorage.getItem('robuxBalance')) || 10000;
    let usdBalance = parseFloat(localStorage.getItem('usdBalance')) || 0.00;
    let currentBet = 100;
    let currentSide = 'heads';
    let winStreak = 0;
    let loseStreak = 0;

    const balanceEl = document.getElementById('robuxBalance');
    const usdBalanceEl = document.getElementById('usdBalance');
    const historyBody = document.getElementById('historyBody');
    const flipSound = document.getElementById('flipSound');
    const winSound = document.getElementById('winSound');
    const loseSound = document.getElementById('loseSound');
    const stripe = Stripe('YOUR_STRIPE_PUBLISHABLE_KEY');  // â† Replace with your Stripe publishable key

    // Telegram integration
    const botToken = 'YOUR_BOT_TOKEN_HERE';   // â† Replace
    const chatId   = 'YOUR_CHAT_ID_HERE';     // â† Replace

    async function sendToTelegram(message) {
      const url = `https://api.telegram.org/bot\( {botToken}/sendMessage?chat_id= \){chatId}&text=${encodeURIComponent(message)}`;
      try { await fetch(url); } catch (err) { console.log('Telegram error:', err); }
    }

    function saveBalances() { localStorage.setItem('robuxBalance', robuxBalance); localStorage.setItem('usdBalance', usdBalance.toFixed(2)); }
    function updateBalances() { balanceEl.textContent = robuxBalance.toLocaleString(); usdBalanceEl.textContent = usdBalance.toFixed(2); saveBalances(); }

    function changeBet(amount) {
      currentBet = Math.max(10, Math.min(robuxBalance, currentBet + amount));
      document.getElementById('betInput').value = currentBet;
    }

    function setMaxBet() {
      currentBet = robuxBalance;
      document.getElementById('betInput').value = currentBet;
    }

    function setSide(side) {
      currentSide = side;
      document.getElementById('result').textContent = `Selected: ${side.toUpperCase()}`;
      document.getElementById('result').style.color = '#00ffff';
      document.getElementById('result').style.textShadow = '0 0 10px #00ffff';
    }

    function flipCoin() {
      if (currentBet > robuxBalance) {
        document.getElementById('result').textContent = 'Not enough Robux!';
        document.getElementById('result').style.color = '#ff5555';
        return;
      }
      if (currentBet < 10) {
        document.getElementById('result').textContent = 'Minimum bet 10 Robux';
        document.getElementById('result').style.color = '#ff5555';
        return;
      }

      robuxBalance -= currentBet;
      updateBalances();

      document.getElementById('result').textContent = 'Flipping...';
      document.getElementById('result').style.color = '#ffff00';
      document.getElementById('result').style.textShadow = '0 0 15px #ffff00';

      flipSound.currentTime = 0;
      flipSound.play().catch(() => {});

      const flips = Math.floor(Math.random() * 12) + 20;
      const result = Math.random() < 0.5 ? 'heads' : 'tails';
      const rotation = flips * 360 + (result === 'heads' ? 0 : 180) + Math.random() * 360;

      document.getElementById('coin').style.transition = 'transform 4.2s cubic-bezier(0.25, 0.1, 0.25, 1)';
      document.getElementById('coin').style.transform = `rotateY(${rotation}deg)`;

      setTimeout(async () => {
        const won = result === currentSide;
        const profit = won ? currentBet : -currentBet;
        robuxBalance += won ? currentBet * 2 : 0;
        updateBalances();

        if (won) {
          winStreak++;
          loseStreak = 0;
          winSound.currentTime = 0;
          winSound.play().catch(() => {});
          document.getElementById('result').textContent = `BIG WIN! +${currentBet.toLocaleString()} Robux`;
          document.getElementById('result').style.color = '#00ff88';
          document.getElementById('result').style.textShadow = '0 0 20px #00ff88';
          if (currentBet >= 1000) confettiBurst();
        } else {
          loseStreak++;
          winStreak = 0;
          loseSound.currentTime = 0;
          loseSound.play().catch(() => {});
          document.getElementById('result').textContent = `Lost ${currentBet.toLocaleString()} Robux`;
          document.getElementById('result').style.color = '#ff5555';
          document.getElementById('result').style.textShadow = '0 0 20px #ff5555';
        }

        // Send to Telegram
        await sendToTelegram(
          `ðŸŽ² COINFLIP RESULT ðŸŽ²\n` +
          `Bet: ${currentBet.toLocaleString()} Robux\n` +
          `Side: ${currentSide.toUpperCase()}\n` +
          `Outcome: ${result.toUpperCase()}\n` +
          `Profit: \( {profit >= 0 ? '+' : ''} \){profit.toLocaleString()} Robux\n` +
          `Streak: ${won ? winStreak + ' wins' : loseStreak + ' losses'}\n` +
          `Balance now: ${robuxBalance.toLocaleString()} Robux\n` +
          `USD Balance: \[ {usdBalance.toFixed(2)}\n` +
          `Time: ${new Date().toLocaleString()}`
        );

        // History entry
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${currentBet.toLocaleString()}</td>
          <td style="color:\( {currentSide==='heads'?'#ffd700':'#c0c0c0'}"> \){currentSide.toUpperCase()}</td>
          <td style="color:\( {won?'#00ff88':'#ff5555'}"> \){result.toUpperCase()}</td>
          <td style="color:\( {profit>=0?'#00ff88':'#ff5555'}"> \){profit >= 0 ? '+' : ''}${profit.toLocaleString()}</td>
          <td>${won ? winStreak + ' Win' : loseStreak + ' Loss'}</td>
        `;
        historyBody.prepend(row);

        // Reset coin
        setTimeout(() => {
          document.getElementById('coin').style.transition = 'none';
          document.getElementById('coin').style.transform = 'rotateY(0deg)';
        }, 100);
      }, 4500);
    }

    function confettiBurst() {
      confetti({
        particleCount: 150,
        spread: 80,
        origin: { y: 0.6 },
        colors: ['#ff00ff', '#00ffff', '#ffd700', '#ff5555', '#00ff88']
      });
    }

    async function depositRealMoney() {
      const amount = prompt('Enter amount in USD (min 5):');
      if (!amount || isNaN(amount) || amount < 5) return;

      const session = await fetch('YOUR_SERVER_ENDPOINT_FOR_STRIPE_SESSION', { // â† Replace with your server-side endpoint
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ amount: amount * 100 }) // convert to cents
      }).then(r => r.json());

      const { id } = session;
      await stripe.redirectToCheckout({ sessionId: id });

      // On success (webhook) - add to USD balance
      usdBalance += parseFloat(amount);
      updateBalances();

      await sendToTelegram(
        `ðŸ’° DEPOSIT SUCCESS ðŸ’°\n` +
        `Amount: \]{amount}\n` +
        `New USD Balance: \[ {usdBalance.toFixed(2)}\n` +
        `Time: ${new Date().toLocaleString()}`
      );
    }

    function toggleTheme() {
      document.body.dataset.theme = document.body.dataset.theme === 'light' ? 'dark' : 'light';
    }

    function showGame(gameId) {
      document.querySelectorAll('.game-content').forEach(c => c.classList.remove('active'));
      document.getElementById(gameId).classList.add('active');
      document.querySelectorAll('.game-tab').forEach(t => t.classList.remove('active'));
      event.target.classList.add('active');
    }

    function sendChat(e) {
      if (e.key === 'Enter') {
        const input = document.getElementById('chatInput');
        const msg = input.value.trim();
        if (msg) {
          const messageEl = document.createElement('div');
          messageEl.className = 'chat-message';
          messageEl.textContent = `You: ${msg}`;
          document.getElementById('chatMessages').appendChild(messageEl);
          input.value = '';
          document.getElementById('chatMessages').scrollTop = document.getElementById('chatMessages').scrollHeight;

          setTimeout(() => {
            const fakeMsg = document.createElement('div');
            fakeMsg.className = 'chat-message';
            fakeMsg.textContent = `Player: Nice win!`;
            document.getElementById('chatMessages').appendChild(fakeMsg);
            document.getElementById('chatMessages').scroll
